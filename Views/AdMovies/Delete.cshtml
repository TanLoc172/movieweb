@* @using MovieWebsite.Models *@
@* @model Movie

@{
    ViewData["Title"] = "Xóa phim";
}

<h1>@ViewData["Title"]</h1>

<h3>Bạn có chắc chắn muốn xóa phim "@Model.Title"?</h3>
<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Tên phim
        </dt>
        <dd class="col-sm-10">
            @Model.Title
        </dd>
        <dt class="col-sm-2">
            Năm phát hành
        </dt>
        <dd class="col-sm-10">
            @Model.ReleaseYear
        </dd>
        <dt class="col-sm-2">
            Thể loại
        </dt>
        <dd class="col-sm-10">
            @Model.Genre
        </dd>
        <dt class="col-sm-2">
            Đạo diễn
        </dt>
        <dd class="col-sm-10">
            @Model.Director
        </dd>
        <dt class="col-sm-2">
            Diễn viên
        </dt>
        <dd class="col-sm-10">
            @Model.Cast
        </dd>
    </dl>
    
    <form asp-action="Delete">
        <input type="hidden" asp-for="Id" />
        <input type="submit" value="Xóa" class="btn btn-danger" /> 
        <a asp-action="Index" class="btn btn-secondary">Quay lại danh sách</a>
    </form>
</div> *@
@model Movie


@{
    ViewData["Title"] = "Xóa phim";
}

<style>
    body {
        background-color: #f4f7fa;
    }
    .delete-container {
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        padding: 2.5rem;
        margin-top: 2rem;
        margin-bottom: 2rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    .delete-container h1 {
        font-size: 2rem;
        font-weight: 700;
        color: #333;
        margin-bottom: 1rem;
    }
    .delete-container h3 {
        font-size: 1.25rem;
        color: #555;
        margin-bottom: 1.5rem;
    }
    .delete-container hr {
        border-top: 2px solid #007bff;
        margin-bottom: 2rem;
    }
    .card {
        border: none;
        border-radius: 8px;
        background-color: #f8fafc;
    }
    .card-body {
        padding: 1.5rem;
    }
    .card dl dt {
        font-weight: 500;
        color: #444;
    }
    .card dl dd {
        color: #333;
    }
    .btn-danger {
        background-color: #dc3545;
        border-color: #dc3545;
        border-radius: 6px;
        padding: 0.75rem 1.5rem;
        transition: background-color 0.2s ease-in-out;
    }
    .btn-danger:hover {
        background-color: #c82333;
        border-color: #c82333;
    }
    .btn-secondary {
        background-color: #6c757d;
        border-color: #6c757d;
        border-radius: 6px;
        padding: 0.75rem 1.5rem;
    }
    @@media (max-width: 576px) {
        .delete-container {
            padding: 1.5rem;
        }
        .btn-danger, .btn-secondary {
            width: 100%;
            margin-bottom: 0.5rem;
        }
        .d-flex {
            flex-direction: column;
        }
    }
</style>

<div class="container">
    <div class="delete-container">
        <h1 class="text-center">Xóa phim</h1>
        <h3 class="text-center">Bạn có chắc chắn muốn xóa phim "<strong>@Model.Title</strong>"?</h3>
        <hr />
        <div class="card">
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-4">Tên phim</dt>
                    <dd class="col-sm-8">@Model.Title</dd>

                    <dt class="col-sm-4">Tiêu đề tiếng Anh</dt>
                    <dd class="col-sm-8">@(Model.EnglishTitle ?? "Không có")</dd>

                    <dt class="col-sm-4">Năm phát hành</dt>
                    <dd class="col-sm-8">@Model.ReleaseYear</dd>

                    <dt class="col-sm-4">Thể loại</dt>
                    <dd class="col-sm-8">@{
                            var genres = new List<Genre>();
                            if (Model.Genre != null)
                            {
                                genres.Add(Model.Genre);
                            }
                            if (Model.MovieGenres != null)
                            {
                                genres.AddRange(Model.MovieGenres.Select(mg => mg.Genre));
                            }
                            if (genres.Any())
                            {
                                foreach (var genre in genres)
                                {
                                    <span class="genre-badge" style="background-color: @(genre.Color ?? "#6c757d");">@genre.Name</span>
                                }
                            }
                            else
                            {                        
                                @:Không có
                            }
                        }</dd>

                    <dt class="col-sm-4">Đạo diễn</dt>
                    <dd class="col-sm-8">@(Model.Director ?? "Không có")</dd>

                    <dt class="col-sm-4">Diễn viên</dt>
                    <dd class="col-sm-8">@(Model.Cast ?? "Không có")</dd>

                    <dt class="col-sm-4">Tổng số tập</dt>
                    <dd class="col-sm-8">@Model.TotalEpisodes</dd>
                </dl>

                <form asp-action="Delete" class="mt-4">
                    <input type="hidden" asp-for="Id" />
                    <div class="d-flex gap-2 justify-content-end">
                        <input type="submit" value="Xóa" class="btn btn-danger" />
                        <a asp-asp-controller="AdMovies" asp-action="ListMovies" class="btn btn-secondary">Quay lại danh sách</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
}
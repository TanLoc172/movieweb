@model MovieSearchViewModel
@{
    ViewBag.Title = "RoPhim - Xem Phim Online Miễn Phí";
}
<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Các file CSS gốc của bạn -->
    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/genre.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/footer.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/banner.css" asp-append-version="true" />

    <!-- (Gợi ý) CSS cho các container mới -->
    <style>
        /* CSS cho các container mới, bạn có thể tách ra file riêng */
        .page-container {
            max-width: 100%; /* Hoặc chiều rộng bạn muốn */
            min-width: 1200px;
            @* margin-left: auto;
            margin-right: auto; *@
            padding-left: 100px;
            padding-right: 100px;
        }

        /* Thêm khoảng cách giữa các section */
        .section-container {
            padding-top: 40px;
            padding-bottom: 40px;
        }

        /* Giữ lại style box của bạn */
        .featured-movies-box {
            background: linear-gradient(10deg,rgba(142, 142, 145, 0) 20%,rgba(18, 18, 83, 0.705));
            border-radius: 20px;       
            padding: 2rem;            
            @* margin-top: 40px;           *@
            border: 1px solid #ffedd500; 
            box-shadow: 0 8px 24px rgba(255, 138, 0, 0.1); 
        }

        .featured-movies-box .movie-section {
            padding-bottom: 30px;
            margin-bottom: 30px;
            border-bottom: 1px solid #ffedd500;
        }

        .featured-movies-box .movie-section:last-child {
            padding-bottom: 0;
            margin-bottom: 0;
            border-bottom: none;
        }
    </style>
    
    <script src="~/js/banner.js" asp-append-version="true"></script>

</head>

<body>

    <!-- ======================================================= -->
    <!-- CONTAINER: Hero Banner Section                          -->
    <!-- ======================================================= -->
    <header class="hero-banner-container">
        @await Component.InvokeAsync("Banner")
    </header>


    <!-- Bắt đầu phần thân chính của trang -->
    <main>

        <!-- ======================================================= -->
        <!-- CONTAINER: Genre Topics Section                       -->
        <!-- ======================================================= -->
        <section class="genre-container section-container">
            <div class="page-container">
                <h2 class="genre-title">Bạn đang quan tâm gì?</h2>
                <div class="genre-section"> <!-- Giữ lại class gốc để không ảnh hưởng CSS -->
                    <div class="genre-scroll-container">
                        <div class="genre-row">
                            @foreach (var genre in Model.Genres.Take(11))
                            {
                                <a class="genre-card" asp-controller="Movies" asp-action="Index" asp-route-GenreId="@genre.Id"
                                   style="background: linear-gradient(135deg, @genre.Color 0%, rgba(0,0,0,0.7) 100%);">
                                    <div class="card-background">
                                        <div class="gradient-overlay"
                                             style="background: linear-gradient(135deg, @genre.Color 0%, rgba(0,0,0,0.7) 100%);"></div>
                                        <div class="pattern-overlay"></div>
                                    </div>
                                    <div class="card-content">
                                        <div class="genre-icon">
                                            @{
                                                string iconClass = genre.Name.ToLower() switch
                                                {
                                                    "hành động" => "fas fa-fist-raised",
                                                    "tâm lý" => "fas fa-theater-masks",
                                                    "hài hước" => "fas fa-laugh",
                                                    "kinh dị" => "fas fa-ghost",
                                                    "lãng mạn" => "fas fa-heart",
                                                    "khoa học" => "fas fa-rocket",
                                                    _ => "fas fa-film"
                                                };
                                            }
                                            <i class="@iconClass"></i>
                                        </div>
                                        <h3 class="genre-title">@genre.Name</h3>
                                        <div class="card-footer">
                                            <span class="explore-text">Khám phá ngay</span>
                                            <i class="fas fa-arrow-right arrow-icon"></i>
                                        </div>
                                    </div>
                                    <div class="hover-effect"></div>
                                </a>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- ======================================================= -->
        <!-- CONTAINER: Main Movie Lists Section                   -->
        <!-- ======================================================= -->
        <section class="main-content-container section-container">
            <div class="page-container">
                <div class="featured-movies-box">

                    <!-- Korean Movies Section -->
                    @{
                        var koreanMovies = Model.Movies.Where(m => Model.Countries.Any(c => c.Id == m.CountryId && c.Code == "KR")).Take(18).ToList();
                    }
                    @if (koreanMovies.Any())
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title1">Phim Hàn Quốc mới</h2>
                                <a href="/Movies/HQ" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="movie-grid">
                                @foreach (var movie in koreanMovies)
                                {
                                    <div class="movie-card" onclick="location.href='/Movies/Details/@movie.Id'">
                                        <div class="movie-poster">
                                            @if (!string.IsNullOrEmpty(movie.PosterPath))
                                            {
                                                <img src="@movie.PosterPath" alt="@movie.Title" />
                                            }
                                            else
                                            {
                                                <i class="fas fa-film"></i>
                                            }
                                        </div>
                                        <div class="movie-info">
                                            <h3 class="movie-title">@movie.Title</h3>
                                            <p class="movie-year">@movie.ReleaseYear</p>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title">Phim Hàn Quốc mới</h2>
                                <a href="/Movies/HQ" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="empty-state">
                                <i class="fas fa-film"></i>
                                <p>Không có phim Hàn Quốc nào hiện tại</p>
                            </div>
                        </div>
                    }

                    <!-- Chinese Movies Section -->
                    @{
                        var chineseMovies = Model.Movies.Where(m => Model.Countries.Any(c => c.Id == m.CountryId && c.Code == "CN")).Take(18).ToList();
                    }
                    @if (chineseMovies.Any())
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title2">Phim Trung Quốc mới</h2>
                                <a href="/Movies/TQ" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="movie-grid">
                                @foreach (var movie in chineseMovies)
                                {
                                    <div class="movie-card" onclick="location.href='/Movies/Details/@movie.Id'">
                                        <div class="movie-poster">
                                            @if (!string.IsNullOrEmpty(movie.PosterPath))
                                            {
                                                <img src="@movie.PosterPath" alt="@movie.Title" />
                                            }
                                            else
                                            {
                                                <i class="fas fa-film"></i>
                                            }
                                        </div>
                                        <div class="movie-info">
                                            <h3 class="movie-title">@movie.Title</h3>
                                            <p class="movie-year">@movie.ReleaseYear</p>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title2">Phim Trung Quốc mới</h2>
                                <a href="/Movies/TQ" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="empty-state">
                                <i class="fas fa-film"></i>
                                <p>Không có phim Trung Quốc nào hiện tại</p>
                            </div>
                        </div>
                    }

                    <!-- US-UK Movies Section -->
                    @{
                        var westernMovies = Model.Movies.Where(m => Model.Countries.Any(c => c.Id == m.CountryId && c.Code == "US")).Take(18).ToList();
                    }
                    @if (westernMovies.Any())
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title3">Phim US-Uk mới</h2>
                                <a href="/Movies/US" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="movie-grid">
                                @foreach (var movie in westernMovies)
                                {
                                    <div class="movie-card" onclick="location.href='/Movies/Details/@movie.Id'">
                                        <div class="movie-poster">
                                            @if (!string.IsNullOrEmpty(movie.PosterPath))
                                            {
                                                <img src="@movie.PosterPath" alt="@movie.Title" />
                                            }
                                            else
                                            {
                                                <i class="fas fa-film"></i>
                                            }
                                        </div>
                                        <div class="movie-info">
                                            <h3 class="movie-title">@movie.Title</h3>
                                            <p class="movie-year">@movie.ReleaseYear</p>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="movie-section">
                            <div class="section-header">
                                <h2 class="section-title">Phim US-UK mới</h2>
                                <a href="/Movies/US" class="view-all">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                            </div>
                            <div class="empty-state">
                                <i class="fas fa-film"></i>
                                <p>Không có phim Mỹ - Anh nào hiện tại</p>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </section>

    </main> <!-- Kết thúc phần thân chính -->


    <!-- ======================================================= -->
    <!-- CONTAINER: Footer Section                             -->
    <!-- ======================================================= -->
    <footer class="site-footer footer"> <!-- Giữ lại class 'footer' gốc -->
        <div class="footer-banner">
            <span class="star">⭐</span>
            <span>Hoàng Sa & Trường Sa là của Việt Nam!</span>
        </div>
        
        <div class="page-container">
            <div class="footer-content-wrapper">
                <!-- Phần Logo và Social Media -->
                <div class="footer-header">
                    <div class="footer-logo">
                        <div class="play-icon"></div>
                        <div class="logo-text">
                            <h3>RoPhim</h3>
                            <p>Phim hay cả rổ</p>
                        </div>
                    </div>
                    <div class="footer-social">
                        <a href="#" class="social-icon"><i class="fab fa-telegram-plane"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-discord"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-x-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-tiktok"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-icon"><i class="fa-brands fa-airbnb"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <!-- Phần Links Điều hướng và Danh mục -->
                <div class="footer-links-and-categories">
                    <div class="footer-nav">
                        <ul>
                            <li><a href="#">Hỏi-Đáp</a></li>
                            <li><a href="#">Chính sách bảo mật</a></li>
                            <li><a href="#">Điều khoản sử dụng</a></li>
                            <li><a href="#">Giới thiệu</a></li>
                            <li><a href="#">Liên hệ</a></li>
                        </ul>
                    </div>
                    <div class="footer-categories">
                        <ul>
                            <li><a href="#">Dongphim</a></li>
                            <li><a href="#">Ghienphim</a></li>
                            <li><a href="#">Motphim</a></li>
                            <li><a href="#">Subnhanh</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Phần Mô tả và Bản quyền -->
                <div class="footer-description">
                    <p>RoPhim – Phim hay cả rổ - Trang xem phim online chất lượng cao miễn phí Vietsub, thuyết minh, lồng tiếng full HD. Kho phim mới khổng lồ, phim chiếu rạp, phim bộ, phim lẻ từ nhiều quốc gia như Việt Nam, Hàn Quốc, Trung Quốc, Thái Lan, Nhật Bản, Âu Mỹ… đa dạng thể loại. Khám phá nền tảng phim trực tuyến hay nhất 2024 chất lượng 4K!</p>
                </div>

                <div class="footer-copyright">
                    <p>© 2024 RoPhim</p>
                </div>
            </div>
        </div>
    </footer>

</body>
</html>